"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[634],{80380:function(e,t,r){r.d(t,{Z:function(){return B}});var a=r(52322),n=r(2784),s=r(54588),i=r(86958),o=r(82453),d=r(51250);let l="ad-oo",c={getConsentFromCookie(e,t){let r=(0,d.rZ)(l,t?.headers);if(void 0!==r)return!(parseInt(r)&e)},setConsentToCookie(e,t,r){let a=(0,d.rZ)(l,r),n=0;if(void 0!==a&&(("number"==typeof a||"string"==typeof a)&&(n=parseInt(a)),n&t&&!e||!(n&t)&&e))return;e||(n|=t);let s=new Date;s.setHours(s.getHours()+36),(0,d.Ys)(l,n.toString(),s,"shared")}};var u=r(54073),f=r.n(u),w=r(45455),p=r.n(w),h=r(22431),v=r(64461),g=r(56044),m=r(113),A=r(95707),_=r(22873);let y=(e,t)=>{window?.mediaOrchestrator?.publish(e,t)};var S=r(78056),E=r(47401),k=r(98537),R=r.n(k);let b={init:()=>{try{window?.imdb_ad_debug||(window.imdb_ad_debug=b)}catch{}},override:e=>{try{b.init(),R()(b,e)}catch{}},adRefresh:{isPaused:!1,pause:()=>{b.override({adRefresh:{isPaused:!0}})},resume:()=>{b.override({adRefresh:{isPaused:!1}})}},auction:{default:()=>{window.ad_utils?.apsAuctionManager?.forceDefaultRender()},preferAaxAds:()=>{window.ad_utils?.apsAuctionManager?.forceAaxRender()},prefer3pAds:()=>{window.ad_utils?.apsAuctionManager?.forceApsRender()},view3pAdAuditLog:()=>{window.ad_utils?.apsAuctionManager?.viewAuditLog()}}};var I=r(503),M=r(59938),L=r(16553);let P={isReady:!1,hasSetInterval:!1},C=e=>{e.adRefreshInfo&&(e.adRefreshInfo.slotsToRefresh=e.adRefreshInfo.slotsToRefresh.filter(e=>T(e)),O(e.adRefreshInfo)&&(document.addEventListener("visibilitychange",N),P.isReady=!0,window.setInterval(W,1e3*e.adRefreshInfo.intervalInSeconds,e),P.hasSetInterval=!0,b.override({adRefresh:{tryRefresh:()=>{W(e,!0)}}})))},N=()=>{"visible"===document.visibilityState?(P.isReady=!0,P.postResponseCallback=void 0):P.postResponseCallback=()=>{P.isReady=!1}},O=e=>!(0,I.Wl)()&&!!(!P.hasSetInterval&&e.isEnabled&&e.intervalInSeconds&&e.slotsToRefresh.length),T=e=>j(e)&&(0,M.Gr)(e)&&!D(e)&&!x(e),j=e=>!!window?.AdSlots?.[e],x=e=>{let t=window.ad_utils?.get_slot_iframe(e);return!!t?.hasAttribute("data-first-party-creative-template")},D=e=>window.AdSlots?.[e]?.creativeMetadata?.adProductType?.grade===E.rP.PREMIUM,W=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];b.adRefresh?.isPaused&&!t||!P.isReady||(0,_.rm)()||F(e).then(P.postResponseCallback)},F=e=>{let t=e.clientSideUrl||"",r=e.apsSlotInfoMap||{},a=Object.keys(e.slotSizeMap||{}).filter(t=>e.adRefreshInfo?.slotsToRefresh?.includes(t)).map(t=>({[t]:(e.slotSizeMap||{})[t]})).reduce(J,{});a=q(a);let n=e=>{0===Object.keys(r).length&&(e.slotsMap=$(e.slotsMap))},s=Object.keys(a).join(",");if(!(Object.keys(r).length>0))return(0,A._J)(t,s,a,0,{},void 0,n);{let e=L.k.getPreviousWindowWidth(),i=(0,S.QH)(s,a,e);return(0,A._J)(t,s,a,0,{},void 0,n,r,i)}},q=e=>Object.keys(e||{}).map(t=>({[t+"_refresh"]:(e||{})[t]})).reduce(J,{}),$=e=>Object.keys(e||{}).filter(t=>!(0,_.M2)((e||{})[t])).map(t=>({[t]:(e||{})[t]})).reduce(J,{}),J=(e,t)=>({...e,...t});var z=r(22862),U=r(54172);let Y=e=>{let{adSlotsInfo:t}=e;(0,m.WJ)();let r=()=>{(0,_.rm)()||(0,A.cU)(t).finally(()=>L.k.setPreviousWindowWidth())},{slotsEnabled:s,clientSideUrlBase:i,adSlots:o,slotSizeMap:d,apsSlotInfoMap:l}=(0,m.OF)(t);n.useEffect(()=>{let e,a;if(s&&!p()(d)&&(L.k.setPreviousWindowWidth(),e=f()(r,750),window.addEventListener("resize",e),t?.adRefreshInfo?.isEnabled&&("complete"===document.readyState?C(t):window.addEventListener("load",()=>C(t)))),!s||!i||!o.includes(h.A.INLINE20)){let e={type:v.X.NO_AUTOPLAY_VIDEO_DETECTED_EVENT_TYPE,slotName:h.A.INLINE20,timestamp:Date.now()},t={type:v.X.EMPTY,slotName:"",timestamp:Date.now()};y(g.x.MEDIA_PLAYBACK_EVENT_NAME,e),y(g.x.NO_PRIMARY_ADS_TO_LOAD_EVENT_NAME,t)}return()=>{e&&window.removeEventListener("resize",e),a&&window.removeEventListener("load",a)}},[]);let c=(0,m.sd)(s,i,o,d,l),u=(0,z.Cq)(t);return(0,a.jsxs)(a.Fragment,{children:[u?(0,a.jsx)(U.j,{sisSlotMarkup:u}):null,(0,a.jsx)("script",{async:!0,dangerouslySetInnerHTML:{__html:c}})]})};function B(){let e=(0,i.B)(),{adSlotsInfo:t}=(0,o.Ok)();return e?.context?.sidecar?.ads?.adsCcbaConsent!==void 0&&c.setConsentToCookie(e.context.sidecar?.ads?.adsCcbaConsent,16,e.context?.headers),(0,a.jsx)(s.Z,{name:"IMDbNextAdPageData",children:(0,a.jsx)(Y,{adSlotsInfo:t})})}},54172:function(e,t,r){r.d(t,{j:function(){return A}});var a,n,s=r(52322),i=r(2784),o=r(23906),d=r(59938);let l=(0,r(16189).createLogger)()("util_sisPixel_rws");(a=n||(n={})).GRANTED="granted",a.PROMPT="prompt",a.DENIED="denied";let c=new Set().add("fake_treatment_1.1").add("fake_treatment_1.2").add("fake_treatment_1.3").add("fake_control_2"),u=["mousedown","scroll","keydown"],f="https://amazon-adsystem.com",w=async()=>{let e="cookieDeprecationLabel"in navigator,t="requestStorageAccessFor"in document;if(!e||!t)return l.log("Browser not compatible with Related Website Sets",{hasCookieDeprecationLabel:e,hasRequestStorageAccessFor:t}),!1;try{let e=await navigator.cookieDeprecationLabel.getValue();return l.log(`Received cookieDeprecationLabel: ${e}`),c.has(e)}catch(e){return l.error("Issue fetching cookieDeprecationLabel",e),!1}},p=async()=>{let e=await v();switch(l.log(`Received storageAccessPermissionStatus: ${e}`),e){case"granted":return g();case"prompt":return h()}l.log(`'top-level-storage-access' permissions for ${f}: denied`)},h=async()=>{let e;if(!navigator.userActivation)return;let t=new Promise(t=>{e=e=>t(e)}),r=async()=>{navigator.userActivation.isActive&&(u.forEach(e=>{document.removeEventListener(e,r)}),await g(),e(!0))};return u.forEach(e=>{document.addEventListener(e,r)}),t},v=async()=>{try{return(await navigator.permissions.query({name:"top-level-storage-access",requestedOrigin:f})).state}catch(e){l.error("Error querying Storage Access permissions",e);return}},g=async()=>{if("requestStorageAccessFor"in document)try{return await document.requestStorageAccessFor(f),!0}catch(e){l.error("Error requesting storage access",e)}};var m=r(22862);let A=i.memo(e=>{let{sisSlotMarkup:t}=e,[r,a]=(0,i.useState)(!1),n=(0,o.wL)("util_sisSlotMarkup");return(0,i.useEffect)(()=>{(async()=>{if(!await w())return a(!0);await p();let e=(0,m.ri)(t,n);e&&await (0,m.Lg)(e,n)})()},[]),r?(0,s.jsx)("div",{ref:d.SK.bind(null,t)}):null})},113:function(e,t,r){r.d(t,{OF:function(){return i},WJ:function(){return n},Wd:function(){return d},a5:function(){return o},sd:function(){return s}});var a=r(47401);let n=()=>{void 0===window.hasAdAJAXCallFired&&(window.hasAdAJAXCallFired=!1)},s=(e,t,r,a,n)=>`
        if (window && window.ad_utils && window.ad_utils.makeAdSlotsCall) {
            window.ad_utils.makeAdSlotsCall(
                ${e},
                '${t}',
                '${r}',
                ${JSON.stringify(a)},
                ${n?JSON.stringify(n):"{}"});
    }`,i=e=>({slotsEnabled:!e||e.slotsEnabled,clientSideUrlBase:e?e.clientSideUrl:"",adSlots:e&&e.slots?Object.keys(e.slots).join(","):"",slotSizeMap:e?e.slotSizeMap:{},apsSlotInfoMap:e&&e.apsSlotInfoMap||{}}),o=()=>{window?.lastActualAdMarkup||(window.lastActualAdMarkup={})},d=e=>!e||e?.creativeMetadata?.creativeWidth===0||e?.creativeMetadata?.adProductType?.name===a.A7.BLANK},22862:function(e,t,r){r.d(t,{Cq:function(){return n},Lg:function(){return i},ri:function(){return s}});var a=r(22431);let n=e=>{let t=e?.slots;return t&&t[a.A.SIS_PIXEL]?.slotMarkup},s=(e,t)=>{let r=e.match(/el\.src="(.*)";/),a=r?r[1]:void 0;return a||t.error("Failed to retrieve SIS Pixel URL"),a},i=async(e,t)=>{try{return await fetch(e,{method:"GET",credentials:"include"}),!0}catch(e){t.error("Error fetching SIS Pixel",e)}}},73286:function(e,t,r){r.d(t,{W:function(){return n}});var a=r(52322);function n(e){return e&&0!==e.length?(0,a.jsx)(a.Fragment,{children:e.map(e=>(0,a.jsx)("link",{rel:"alternate",href:e.url,hrefLang:e.language},`href_lang_${e.language}`))}):null}r(2784)}}]);