"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3842],{60545:function(t,e,a){a.d(e,{j:function(){return r}});let r={gotoTitleAriaLabel:{id:"common_ariaLabels_gotoTitle",defaultMessage:"View title page for {titleName}"},gotoTrailerAriaLabel:{id:"common_ariaLabels_gotoTrailer",defaultMessage:"Watch trailer for {titleName}"},ratingButtonRatedAriaLabel:{id:"common_ariaLabels_ratingButtonRated",defaultMessage:"Your rating: {rating}"},ratingButtonUnratedAriaLabel:{id:"common_ariaLabels_ratingButtonUnrated",defaultMessage:"Rate {titleName}"},ratingPromptHeaderLabel:{id:"common_ratingPrompt_header",defaultMessage:"Rate this"},ratingPromptRateLabel:{id:"common_ratingPrompt_rate",defaultMessage:"Rate"},ratingPromptRemoveRatingLabel:{id:"common_ratingPrompt_removeRating",defaultMessage:"Remove rating"},ratingPromptErrorLabel:{id:"common_ratingPrompt_error",defaultMessage:"Can't rate title. Try again later."},ratingPromptAriaLabelPrefix:{id:"common_ratingPrompt_ariaLabelPrefix",defaultMessage:"Rating"},trailerButtonText:{id:"common_buttons_trailer",defaultMessage:"Trailer"}}},23842:function(t,e,a){a.d(e,{c:function(){return A}});var r,i,n=a(52322),l=a(2784),o=a(45103),s=a(18355),d=a(72779),c=a.n(d),m=a(19596),g=a(91842),u=a(75824),f=a(66724),h=a(11438),p=a(60545);(r=i||(i={})).SPACE_BETWEEN="space-between",r.SPACE_AROUND="space-around",r.RIGHT="right",r.LEFT="left";let x=t=>{let{title:{latestTrailerId:e},iconButtons:a,index:r}=t,{videoSingleLinkBuilder:i}=(0,f.WO)(),l=(0,u.N)(p.j.trailerButtonText),s=(0,u.N)(p.j.trailerButtonText),d=[];if(e){let t=i({viconst:e,refSuffix:{t:h.Cd.TRAILER,n:r}});d.push({preIcon:"play-arrow",onColor:"textPrimary",href:t,ariaLabel:l,children:(0,n.jsx)("div",{className:"trailers-button-text","data-testid":"trailer-button",children:s})})}let m="space-around";if(a?.length===1&&d.length<1&&(m="right"),!a?.length&&!d.length)return null;let g=c()([`justify--${m}`],{"both-card-actions":a?.length&&d.length});return(0,n.jsxs)(T,{className:g,children:[d.map((t,e)=>(0,n.jsx)(o.TextButton,{className:c()("card-action-button",t.className),...t},e)),a?.map((t,e)=>n.jsx(o.IconButton,{className:c()("card-action-icon",t.className),...t},e))]})},T=m.default.div.withConfig({componentId:"sc-7ac894be-0"})(["display:flex;width:100%;align-items:center;padding:"," 0;margin-bottom:-1rem;&.justify--space-between{justify-content:space-between;}&.justify--space-around{justify-content:space-around;}&.justify--left{justify-content:flex-start;}&.justify--right{justify-content:flex-end;}&.both-card-actions{> .card-action-button{margin-left:-0.25rem;padding-right:0.5rem;padding-left:0.5rem;}> .card-action-icon{margin-right:-0.25rem;}}> .card-action-button{text-overflow:ellipsis;overflow:hidden;}"],g.spacing.xs);var b=a(2870);let y=t=>{let{title:{id:e},alternateButton:a,refTagFromGraph:r,index:i}=t;if(a){let t={...a.props,width:"full-width"};return(0,n.jsx)(o.SecondaryButton,{...t,children:a.fetching?(0,n.jsx)(R,{className:"alternate-button-loader",type:"circle"}):a.text})}return(0,n.jsx)(b.Z,{titleId:e,refOverride:[{t:h.Cd.WATCHLIST_RIBBON,n:i},(0,h.Qk)({refStr:r,explanation:"The refmarker comes dynamically from the graph"})]},e)},R=(0,m.default)(o.Loader).withConfig({componentId:"sc-3a18d0-0"})(["max-height:",";max-width:",";vertical-align:middle;"],g.spacing.xl,g.spacing.xl);var N=a(77725),j=a(89363),P=a(94471),L=a(82433),C=a(84314),_=a(14438),B=a(37179),k=a(30634);let w=t=>{let{className:e,title:{id:a,titleText:r,ratingsSummary:i,canRate:s},refTagFromGraph:d,index:c}=t,{makeRefMarker:m}=(0,h.Lz)(),[g,f]=(0,l.useState)(!1),x=(0,C.n)(),T=(0,k.pl)(),b=(0,_.EO)(),{rating:y,updateRating:R,deleteRating:w}=(0,o.useRatingsContext)(a),I=(0,P.P)(i,"imdb"),A=(0,P.P)(y,"user"),S=m([{t:h.Cd.TITLE,n:c},h.Cd.RATING,(0,h.Qk)({refStr:d,explanation:"The refmarker comes dynamically from the graph"})]),E=s?()=>{b({pageAction:B.QJ.USER_RATING_PROMPT_OPEN,hitType:N.Re.POP_UP,refMarkerString:S}),f(!0)}:void 0,{updateTitleRating:M,deleteTitleRating:O,tempRateUpdateLogRef:U}=(0,L.vY)({titleId:a,refTag:S,currentRating:y}),W=(0,u.N)(p.j.ratingButtonRatedAriaLabel,{rating:A}),G=(0,u.N)(p.j.ratingButtonUnratedAriaLabel,{titleName:r}),H=(0,u.N)(p.j.ratingPromptHeaderLabel),F=(0,u.N)(p.j.ratingPromptRateLabel),Q=(0,u.N)(p.j.ratingPromptRemoveRatingLabel),z=(0,u.N)(p.j.ratingPromptAriaLabelPrefix);return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(v,{className:e,formattedImdbRating:I,formattedUserRating:A,onUserRatingClick:E,ariaLabelRated:W,ariaLabelUnrated:G}),!!E&&(0,n.jsx)(o.RatingPrompt,{isOpen:g,tconst:a,title:r,headerLabel:H,rateLabel:F,ariaLabelPrefix:z,shouldUseNewRatingFlow:!0,secondaryButtonText:Q,secondaryButtonType:j.uu.RemoveRating,onPrimaryButtonClicked:async(t,e)=>{if(!t){f(!1);return}x?(f(!1),R(t,S,()=>M(t,e))):(await U(t,e),T({rating:t,titleId:e,ref:S}))},onSecondaryButtonClicked:async(t,e)=>{f(!1),w(S,()=>O(e))},onCloseClicked:()=>{f(!1)}})]})},v=(0,m.default)(o.PosterCard.RatingStarGroup).withConfig({componentId:"sc-181c6ba1-0"})(["min-height:36px;"]);var I=a(20189);let A=t=>{let{id:e,titleType:a,primaryImage:r,ratingsSummary:i,canRate:l,latestTrailer:d}=t.data,{index:c,refTagFromGraph:m}=t,{preferredTitleText:g,titleHref:u,goToTitleAriaLabel:f}=(0,I.T)({data:t.data,refTagFromGraph:m,index:c}),h="string"==typeof t.className?t.className:void 0;return g&&a?(0,n.jsxs)(o.PosterCard,{dynamicWidth:!0,className:h,children:[(0,n.jsx)(s.y,{title:{id:e,titleText:g,titleTypeId:a.id,image:{url:r?.url,height:r?.height,width:r?.width}},onClick:t.onClick,refTagFromGraph:m,index:c}),(0,n.jsx)(w,{title:{id:e,titleText:g,ratingsSummary:i?.aggregateRating,canRate:l?.isRatable},refTagFromGraph:m,index:c}),(0,n.jsx)(o.PosterCard.Title,{href:u,onClick:t.onClick,ariaLabel:f,children:(0,n.jsx)("span",{"data-testid":"title",children:g})}),(0,n.jsxs)(o.PosterCard.Actions,{children:[(0,n.jsx)(y,{title:{id:e},alternateButton:t.alternateButton,refTagFromGraph:m,index:c}),(0,n.jsx)(x,{title:{latestTrailerId:d?.id},iconButtons:t.iconButtons,index:c})]})]}):null}},20189:function(t,e,a){a.d(e,{T:function(){return s}});var r=a(75824),i=a(66724),n=a(11438),l=a(63370),o=a(60545);let s=t=>{let{data:e,refTagFromGraph:a,index:s}=t,{titleMainLinkBuilder:d}=(0,i.WO)(),c=(0,l.K)({originalTitleText:e.originalTitleText,titleText:e.titleText}),m=(0,r.N)(o.j.gotoTitleAriaLabel,{titleName:c});return{titleHref:d({tconst:e.id,refSuffix:[{t:n.Cd.TEXT,n:s},(0,n.Qk)({refStr:a,explanation:"The refmarker comes dynamically from the graph"})]}),preferredTitleText:c,goToTitleAriaLabel:m}}},18355:function(t,e,a){a.d(e,{y:function(){return c}});var r=a(52322);a(2784);var i=a(45103),n=a(75824),l=a(49996),o=a(66724),s=a(11438),d=a(72811);let c=t=>{let{className:e,title:{id:a,titleText:c,titleTypeId:m,image:{url:g,height:u,width:f}},onClick:h,refTagFromGraph:p,index:x,ribbonSize:T}=t,{titleMainLinkBuilder:b}=(0,o.WO)(),{makeRefMarker:y}=(0,s.Lz)(),R=b({tconst:a,refSuffix:[{t:s.Cd.POSTER,n:x},(0,s.Qk)({refStr:p,explanation:"The refmarker comes dynamically from the graph"})]}),{pageType:N,subPageType:j}=(0,l.y)(),P=(0,n.N)({id:"common_ariaLabels_gotoTitle",defaultMessage:"View title page for {titleName}"},{titleName:c});return(0,r.jsxs)(i.PosterCard.Poster,{href:R,ariaLabel:P,onClick:h,className:e,children:[(0,r.jsx)(d.Z,{titleId:a,watchlistMetricsContext:{pageType:N,subPageType:j,refTag:y([{t:s.Cd.WATCHLIST_RIBBON,n:x},(0,s.Qk)({refStr:p,explanation:"The refmarker comes dynamically from the graph"})])},onPoster:!0,className:"poster-card-watchlist-ribbon",size:T},a),(0,r.jsx)(i.Poster.Image,{imageModel:g&&u&&f?{url:g,maxHeight:u,maxWidth:f,caption:c}:void 0,imageType:m,className:"poster-card-image",dynamicAspectRatio:!1})]})}}}]);