"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3842],{60545:function(t,e,a){a.d(e,{j:function(){return r}});let r={gotoTitleAriaLabel:{id:"common_ariaLabels_gotoTitle",defaultMessage:"View title page for {titleName}"},gotoTrailerAriaLabel:{id:"common_ariaLabels_gotoTrailer",defaultMessage:"Watch trailer for {titleName}"},ratingButtonRatedAriaLabel:{id:"common_ariaLabels_ratingButtonRated",defaultMessage:"Your rating: {rating}"},ratingButtonUnratedAriaLabel:{id:"common_ariaLabels_ratingButtonUnrated",defaultMessage:"Rate {titleName}"},ratingPromptHeaderLabel:{id:"common_ratingPrompt_header",defaultMessage:"Rate this"},ratingPromptRateLabel:{id:"common_ratingPrompt_rate",defaultMessage:"Rate"},ratingPromptRemoveRatingLabel:{id:"common_ratingPrompt_removeRating",defaultMessage:"Remove rating"},ratingPromptErrorLabel:{id:"common_ratingPrompt_error",defaultMessage:"Can't rate title. Try again later."},ratingPromptAriaLabelPrefix:{id:"common_ratingPrompt_ariaLabelPrefix",defaultMessage:"Rating"},trailerButtonText:{id:"common_buttons_trailer",defaultMessage:"Trailer"}}},23842:function(t,e,a){a.d(e,{c:function(){return A}});var r,i,n=a(52322),l=a(88169),o=a(2784),s=a(18355),d=a(72779),c=a.n(d),m=a(19596),g=a(86704),f=a(75824),u=a(66724),h=a(11438),p=a(60545);(r=i||(i={})).SPACE_BETWEEN="space-between",r.SPACE_AROUND="space-around",r.RIGHT="right",r.LEFT="left";let x=t=>{let{title:{latestTrailerId:e},iconButtons:a,index:r}=t,{videoSingleLinkBuilder:i}=(0,u.WOb)(),o=(0,f.N)(p.j.trailerButtonText),s=(0,f.N)(p.j.trailerButtonText),d=[];if(e){let t=i({viconst:e,refSuffix:{t:h.Cd.TRAILER,n:r}});d.push({preIcon:"play-arrow",onColor:"textPrimary",href:t,ariaLabel:o,children:(0,n.jsx)("div",{className:"trailers-button-text","data-testid":"trailer-button",children:s})})}let m="space-around";if(a?.length===1&&d.length<1&&(m="right"),!a?.length&&!d.length)return null;let g=c()([`justify--${m}`],{"both-card-actions":a?.length&&d.length});return(0,n.jsxs)(b,{className:g,children:[d.map((t,e)=>(0,n.jsx)(l.TextButton,{className:c()("card-action-button",t.className),...t},e)),a?.map((t,e)=>n.jsx(l.IconButton,{className:c()("card-action-icon",t.className),...t},e))]})},b=m.default.div.withConfig({componentId:"sc-2e4fa651-0"})(["display:flex;width:100%;align-items:center;padding:"," 0;margin-bottom:-1rem;&.justify--space-between{justify-content:space-between;}&.justify--space-around{justify-content:space-around;}&.justify--left{justify-content:flex-start;}&.justify--right{justify-content:flex-end;}&.both-card-actions{> .card-action-button{margin-left:-0.25rem;padding-right:0.5rem;padding-left:0.5rem;}> .card-action-icon{margin-right:-0.25rem;}}> .card-action-button{text-overflow:ellipsis;overflow:hidden;}"],g.spacing.xs);var T=a(2870);let R=t=>{let{title:{id:e},alternateButton:a,refTagFromGraph:r,index:i}=t;if(a){let t={...a.props,width:"full-width"};return(0,n.jsx)(l.SecondaryButton,{...t,children:a.fetching?(0,n.jsx)(N,{className:"alternate-button-loader",type:"circle"}):a.text})}return(0,n.jsx)(T.Z,{titleId:e,refOverride:[{t:h.Cd.WATCHLIST_RIBBON,n:i},(0,h.Qk)({refStr:r,explanation:"The refmarker comes dynamically from the graph"})]},e)},N=(0,m.default)(l.Loader).withConfig({componentId:"sc-b9fc2f37-0"})(["max-height:",";max-width:",";vertical-align:middle;"],g.spacing.xl,g.spacing.xl);var j=a(77725),y=a(44958),P=a(94471),L=a(82433),C=a(84314),_=a(14438),v=a(37179),B=a(30634);let w=t=>{let{className:e,title:{id:a,titleText:r,ratingsSummary:i,canRate:s},refTagFromGraph:d,index:c}=t,{makeRefMarker:m}=(0,h.Lz)(),[g,u]=(0,o.useState)(!1),x=(0,C.n)(),b=(0,B.pl)(),T=(0,_.EO)(),{rating:R,updateRating:N,deleteRating:w}=(0,l.useRatingsContext)(a),I=(0,P.P)(i,"imdb"),A=(0,P.P)(R,"user"),S=m([{t:h.Cd.TITLE,n:c},h.Cd.RATING,(0,h.Qk)({refStr:d,explanation:"The refmarker comes dynamically from the graph"})]),E=s?()=>{T({pageAction:v.QJ.USER_RATING_PROMPT_OPEN,hitType:j.Re.POP_UP,refMarkerString:S}),u(!0)}:void 0,{updateTitleRating:O,deleteTitleRating:M,tempRateUpdateLogRef:W}=(0,L.vY)({titleId:a,refTag:S,currentRating:R}),U=(0,f.N)(p.j.ratingButtonRatedAriaLabel,{rating:A}),H=(0,f.N)(p.j.ratingButtonUnratedAriaLabel,{titleName:r}),F=(0,f.N)(p.j.ratingPromptHeaderLabel),G=(0,f.N)(p.j.ratingPromptRateLabel),Q=(0,f.N)(p.j.ratingPromptRemoveRatingLabel),z=(0,f.N)(p.j.ratingPromptAriaLabelPrefix);return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(k,{className:e,formattedImdbRating:I,formattedUserRating:A,onUserRatingClick:E,ariaLabelRated:U,ariaLabelUnrated:H}),!!E&&(0,n.jsx)(l.RatingPrompt,{isOpen:g,tconst:a,title:r,headerLabel:F,rateLabel:G,ariaLabelPrefix:z,shouldUseNewRatingFlow:!0,secondaryButtonText:Q,secondaryButtonType:y.uu.RemoveRating,onPrimaryButtonClicked:async(t,e)=>{if(!t){u(!1);return}x?(u(!1),N(t,S,()=>O(t,e))):(await W(t,e),b({rating:t,titleId:e,ref:S}))},onSecondaryButtonClicked:async(t,e)=>{u(!1),w(S,()=>M(e))},onCloseClicked:()=>{u(!1)}})]})},k=(0,m.default)(l.PosterCard.RatingStarGroup).withConfig({componentId:"sc-c2a5fd6d-0"})(["min-height:36px;"]);var I=a(20189);let A=t=>{let{id:e,titleType:a,primaryImage:r,ratingsSummary:i,canRate:o,latestTrailer:d}=t.data,{index:c,refTagFromGraph:m}=t,{preferredTitleText:g,titleHref:f,goToTitleAriaLabel:u}=(0,I.T)({data:t.data,refTagFromGraph:m,index:c}),h="string"==typeof t.className?t.className:void 0;return g&&a?(0,n.jsxs)(l.PosterCard,{dynamicWidth:!0,className:h,children:[(0,n.jsx)(s.y,{title:{id:e,titleText:g,titleTypeId:a.id,image:{url:r?.url,height:r?.height,width:r?.width}},onClick:t.onClick,refTagFromGraph:m,index:c}),(0,n.jsx)(w,{title:{id:e,titleText:g,ratingsSummary:i?.aggregateRating,canRate:o?.isRatable},refTagFromGraph:m,index:c}),(0,n.jsx)(l.PosterCard.Title,{href:f,onClick:t.onClick,ariaLabel:u,children:(0,n.jsx)("span",{"data-testid":"title",children:g})}),(0,n.jsxs)(l.PosterCard.Actions,{children:[(0,n.jsx)(R,{title:{id:e},alternateButton:t.alternateButton,refTagFromGraph:m,index:c}),(0,n.jsx)(x,{title:{latestTrailerId:d?.id},iconButtons:t.iconButtons,index:c})]})]}):null}},20189:function(t,e,a){a.d(e,{T:function(){return s}});var r=a(75824),i=a(66724),n=a(11438),l=a(63370),o=a(60545);let s=t=>{let{data:e,refTagFromGraph:a,index:s}=t,{titleMainLinkBuilder:d}=(0,i.WOb)(),c=(0,l.K)({originalTitleText:e.originalTitleText,titleText:e.titleText}),m=(0,r.N)(o.j.gotoTitleAriaLabel,{titleName:c});return{titleHref:d({tconst:e.id,refSuffix:[{t:n.Cd.TEXT,n:s},(0,n.Qk)({refStr:a,explanation:"The refmarker comes dynamically from the graph"})]}),preferredTitleText:c,goToTitleAriaLabel:m}}},18355:function(t,e,a){a.d(e,{y:function(){return d}});var r=a(52322);a(2784);var i=a(88169),n=a(75824),l=a(66724),o=a(11438),s=a(72811);let d=t=>{let{className:e,title:{id:a,titleText:d,titleTypeId:c,image:{url:m,height:g,width:f}},onClick:u,refTagFromGraph:h,index:p,ribbonSize:x}=t,{titleMainLinkBuilder:b}=(0,l.WOb)(),T=b({tconst:a,refSuffix:[{t:o.Cd.POSTER,n:p},(0,o.Qk)({refStr:h,explanation:"The refmarker comes dynamically from the graph"})]}),R=(0,n.N)({id:"common_ariaLabels_gotoTitle",defaultMessage:"View title page for {titleName}"},{titleName:d});return(0,r.jsx)(i.PosterCard.Poster,{href:T,ariaLabel:R,onClick:u,className:e,imageProps:{imageModel:m&&g&&f?{url:m,maxHeight:g,maxWidth:f,caption:d}:void 0,imageType:c,className:"poster-card-image",dynamicAspectRatio:!1},children:(0,r.jsx)(s.Z,{titleId:a,refOverride:[{t:o.Cd.WATCHLIST_RIBBON,n:p},(0,o.Qk)({refStr:h,explanation:"The refmarker comes dynamically from the graph"})],onPoster:!0,className:"poster-card-watchlist-ribbon",size:x},a)})}},72811:function(t,e,a){a.d(e,{Q:function(){return o}});var r=a(52322);a(2784);var i=a(88169),n=a(11438),l=a(12563);let o=t=>{let{titleId:e,refOverride:a,onPoster:o,onImage:s=!0,size:d,className:c}=t,{makeRefMarker:m}=(0,n.Lz)(),{isInWatchlist:g,isPending:f,onClick:u,ariaLabel:h}=(0,l.X)(e,m(a||n.Cd.WATCHLIST_RIBBON)),p={inWatchlist:g,isLoading:f,ariaLabel:h,onClick:u};return(0,r.jsxs)(r.Fragment,{children:[!!o&&(0,r.jsx)(i.Poster.WatchlistRibbon,{...p,className:c,size:d,"data-testid":`poster-watchlist-ribbon-${g?"remove":"add"}`}),!o&&(0,r.jsx)(i.WatchlistRibbon,{...p,className:c,onImage:s,size:d,"data-testid":`watchlist-ribbon-${g?"remove":"add"}`})]})};e.Z=o}}]);